{
  "version": 3,
  "sources": ["../src/index.ts", "../../shared/src/index.ts", "../src/reactive.ts"],
  "sourcesContent": ["export {reactive} from './reactive'\r\n", "export function isObject(value: unknown) {\r\n  return typeof value === 'object' && value != null\r\n}", "import { isObject } from \"@vue/shared\"\r\n\r\nexport function reactive(target) {\r\n  return createReactiveObject(target)\r\n}\r\n\r\nconst reactiveMap = new WeakMap()\r\nconst enum ReactiveFlags {\r\n  IS_REACTIVE = 'is__reactive'\r\n}\r\nconst mutationHandler = {\r\n  // Reflect\u7684\u4F7F\u7528\u662F\u4E3A\u4E86\u786E\u4FDDthis\u7684\u6B63\u786E\u4F7F\u7528\r\n  get(target, key, receiver) {\r\n    // \u5982\u679C\u8BFB\u53D6\u5230key \u7684\u5C5E\u6027\u540D\u662FReactiveFlags.IS_REACTIVE, \u8BF4\u660E\u662Fproxy\u4EE3\u7406\u5BF9\u8C61\uFF0C\u76F4\u63A5\u8FD4\u56DE\r\n    if(key === ReactiveFlags.IS_REACTIVE) {\r\n      return true\r\n    }\r\n    return Reflect.get(target, key, receiver)\r\n  },\r\n  set(target, key, value, receiver) {\r\n    return Reflect.set(target, key, value, receiver)\r\n  }\r\n}\r\n\r\nfunction createReactiveObject(target){\r\n  // \u9996\u5148\u5224\u522B\u5FC5\u987B\u662F\u4E00\u4E2A\u5BF9\u8C61\r\n  if(!isObject(target)) {\r\n    return target\r\n  }\r\n\r\n  // \u5DF2\u7ECF\u4EE3\u7406\u8FC7\u7684\u76F4\u63A5\u8BFB\u53D6\r\n  const existingProxy = reactiveMap.get(target)\r\n  if(existingProxy) {\r\n    return existingProxy\r\n  }\r\n\r\n  // \u5148\u8BFB\u53D6\u8BC6\u522B\uFF0C\u4F20\u5165\u7684\u662F\u4E0D\u662Fproxy\u5BF9\u8C61\r\n  if(target[ReactiveFlags.IS_REACTIVE]) {\r\n    return target\r\n  }\r\n\r\n  const proxy = new Proxy(target, mutationHandler)\r\n  // \u6CA1\u6709\u4EE3\u7406\u8FC7\u7684\u7F13\u5B58\u5728reactiveMap\u4E2D\r\n  reactiveMap.set(target, proxy)\r\n  return proxy\r\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;;;ACAO,WAAS,SAAS,OAAgB;AACvC,WAAO,OAAO,UAAU,YAAY,SAAS;AAAA,EAC/C;;;ACAO,WAAS,SAAS,QAAQ;AAC/B,WAAO,qBAAqB,MAAM;AAAA,EACpC;AAEA,MAAM,cAAc,oBAAI,QAAQ;AAIhC,MAAM,kBAAkB;AAAA;AAAA,IAEtB,IAAI,QAAQ,KAAK,UAAU;AAEzB,UAAG,QAAQ,kCAA2B;AACpC,eAAO;AAAA,MACT;AACA,aAAO,QAAQ,IAAI,QAAQ,KAAK,QAAQ;AAAA,IAC1C;AAAA,IACA,IAAI,QAAQ,KAAK,OAAO,UAAU;AAChC,aAAO,QAAQ,IAAI,QAAQ,KAAK,OAAO,QAAQ;AAAA,IACjD;AAAA,EACF;AAEA,WAAS,qBAAqB,QAAO;AAEnC,QAAG,CAAC,SAAS,MAAM,GAAG;AACpB,aAAO;AAAA,IACT;AAGA,UAAM,gBAAgB,YAAY,IAAI,MAAM;AAC5C,QAAG,eAAe;AAChB,aAAO;AAAA,IACT;AAGA,QAAG,OAAO,gCAAyB,GAAG;AACpC,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,IAAI,MAAM,QAAQ,eAAe;AAE/C,gBAAY,IAAI,QAAQ,KAAK;AAC7B,WAAO;AAAA,EACT;",
  "names": []
}
