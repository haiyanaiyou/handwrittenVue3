{
  "version": 3,
  "sources": ["../src/index.ts", "../../shared/src/index.ts", "../src/reactive.ts"],
  "sourcesContent": ["export {reactive} from './reactive'\r\n", "export function isObject(value: unknown) {\r\n  return typeof value === 'object' && value != null\r\n}", "import {isObject} from '@vue/shared'\r\nexport function reactive(target) {\r\n  // reactive \u4E3B\u8981\u662F\u751F\u6210\u4E00\u4E2A\u54CD\u5E94\u5F0F\u5BF9\u8C61\r\n  /*\r\n      reactive \u4E3B\u8981\u6CE8\u610F\u4E24\u4E2A\u70B9\uFF1A\r\n      1\u3001\u8FC7\u6EE4\u5DF2\u7ECF\u4EE3\u7406\u8FC7\u7684(\u5982\u679C\u5BF9\u8C61\u5DF2\u7ECF\u88AB\u4EE3\u7406\u8FC7\uFF0C\u518D\u6B21\u91CD\u590D\u4EE3\u7406\u5219\u8FD4\u56DE\u4E0A\u6B21\u4EE3\u7406\u7ED3\u679C)\r\n      2\u3001\u907F\u514D\u88AB\u91CD\u590D\u8C03\u7528\u591A\u6B21(\u4E00\u4E2A\u4EE3\u7406\u5BF9\u8C61\u4F20\u5165)\r\n  */ \r\n  return createReactiveObject(target)\r\n}\r\n\r\nconst enum ReactiveFlags {\r\n  IS_REACTIVE = '__V_isReactive'\r\n}\r\n\r\nconst mutableHandles: ProxyHandler<object>= {\r\n// \u4F7F\u7528reflect \u4FDD\u8BC1this\u6307\u5411\u6C38\u8FDC\u6307\u5411\u4EE3\u7406\u5BF9\u8C61\r\n/*\r\n  Reflect API \u662F JavaScript \u4E2D\u7684\u5185\u7F6E\u5BF9\u8C61\uFF0C\u63D0\u4F9B\u4E86\u83B7\u53D6\u548C\u8BBE\u7F6E\u5BF9\u8C61\u5C5E\u6027\u503C\u7B49\u65B9\u6CD5\u3002\r\n  \u901A\u8FC7\u4F7F\u7528 Reflect API\uFF0CVue \u53EF\u4EE5\u786E\u4FDD\u5176\u5BF9\u53CD\u5E94\u5BF9\u8C61\u7684\u8BBF\u95EE\u662F\u4E00\u81F4\u548C\u5FEB\u901F\u7684\uFF0C\u65E0\u8BBA\u4F7F\u7528\u7684\u662F\u54EA\u79CD\u7C7B\u578B\u7684\u5BF9\u8C61\uFF08\u666E\u901A\u5BF9\u8C61\uFF0CMap\uFF0CSet \u7B49\uFF09\u3002\r\n  \u6B64\u5916\uFF0C\u4F7F\u7528 Reflect API \u786E\u4FDD\u4E86\u5BF9\u8C61\u5C5E\u6027\u7684\u8BBF\u95EE\u4EE5\u4E00\u81F4\u7684\u65B9\u5F0F\u5904\u7406\uFF0C\u4F7F\u5F97 Vue \u66F4\u5BB9\u6613\u4E3A\u6BCF\u79CD\u7C7B\u578B\u7684\u5BF9\u8C61\u63D0\u4F9B\u6B63\u786E\u7684\u53CD\u5E94\u884C\u4E3A\u3002\r\n*/ \r\n  get(target, key, receiver){\r\n    if(key === ReactiveFlags.IS_REACTIVE) {\r\n      return true\r\n    }\r\n    return Reflect.get(target, key, receiver)\r\n  },\r\n  set(target,key,value, receiver){\r\n    return Reflect.set(target,key,value,receiver)\r\n  }\r\n}\r\n\r\nconst reactiveMap = new WeakMap();\r\n\r\nfunction createReactiveObject(target) {\r\n  // \u9996\u5148\uFF0C\u5FC5\u987B\u662F\u4E00\u4E2A\u5BF9\u8C61\r\n  if(!isObject(target)) {\r\n    return target\r\n  }\r\n  // \u5DF2\u7ECF\u4EE3\u7406\u8FC7\u76F4\u63A5\u8FD4\u56DE\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61\r\n  if(reactiveMap.get(target)) {\r\n    return reactiveMap\r\n  }\r\n  // \u5982\u679C\u5DF2\u7ECF\u662F\u54CD\u5E94\u5F0F\u5BF9\u8C61\uFF0C\u5219\u76F4\u63A5\u53D6\u503C\r\n  if(target[ReactiveFlags.IS_REACTIVE]) {\r\n    return target\r\n  }\r\n  const proxy = new Proxy(target, mutableHandles)\r\n  reactiveMap.set(target, proxy)\r\n  return proxy\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;;;ACAO,WAAS,SAAS,OAAgB;AACvC,WAAO,OAAO,UAAU,YAAY,SAAS;AAAA,EAC/C;;;ACDO,WAAS,SAAS,QAAQ;AAO/B,WAAO,qBAAqB,MAAM;AAAA,EACpC;AAMA,MAAM,iBAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAO1C,IAAI,QAAQ,KAAK,UAAS;AACxB,UAAG,QAAQ,oCAA2B;AACpC,eAAO;AAAA,MACT;AACA,aAAO,QAAQ,IAAI,QAAQ,KAAK,QAAQ;AAAA,IAC1C;AAAA,IACA,IAAI,QAAO,KAAI,OAAO,UAAS;AAC7B,aAAO,QAAQ,IAAI,QAAO,KAAI,OAAM,QAAQ;AAAA,IAC9C;AAAA,EACF;AAEA,MAAM,cAAc,oBAAI,QAAQ;AAEhC,WAAS,qBAAqB,QAAQ;AAEpC,QAAG,CAAC,SAAS,MAAM,GAAG;AACpB,aAAO;AAAA,IACT;AAEA,QAAG,YAAY,IAAI,MAAM,GAAG;AAC1B,aAAO;AAAA,IACT;AAEA,QAAG,OAAO,kCAAyB,GAAG;AACpC,aAAO;AAAA,IACT;AACA,UAAM,QAAQ,IAAI,MAAM,QAAQ,cAAc;AAC9C,gBAAY,IAAI,QAAQ,KAAK;AAC7B,WAAO;AAAA,EACT;",
  "names": []
}
